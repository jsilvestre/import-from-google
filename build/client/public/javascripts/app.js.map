{"version":3,"sources":["app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/view_collection.coffee","app/locales/en.json","app/locales/fr.json","app/router.coffee","app/views/leave_google_form.coffee","app/views/leave_google_log.coffee","app/views/templates/leave_google_form.jade","app/views/templates/leave_google_log.jade"],"names":[],"mappings":"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D,GAF2B;MAAA;IAAA,QAA/B,CA3BA;AAAA,IA+BA,MAAM,CAAC,GAAG,CAAC,EAAX,CAAc,eAAd,EAA+B;aAAA;AAC3B,aAAC,MAAK,CAAC,YAAP,GAAsB,IAAtB;AAAA,QACA,KAAC,OAAD,EADA;eAEA,KAAC,MAAK,CAAC,YAAP,GAAsB,MAHK;MAAA;IAAA,QAA/B,CA/BA;WAoCA,MAAM,CAAC,GAAG,CAAC,EAAX,CAAc,IAAd,EAAoB;aAAA;AAChB,aAAC,MAAK,CAAC,MAAM,CAAC,UAAd,GAA2B,KAA3B;AAAA,QACA,KAAC,MAAK,CAAC,QAAQ,CAAC,UAAhB,GAA6B,KAD7B;AAAA,QAEA,KAAC,MAAK,CAAC,MAAM,CAAC,UAAd,GAA2B,KAF3B;eAGA,KAAC,OAAD,GAJgB;MAAA;IAAA,QAApB,EArCQ;EAAA,CAtBZ;;AAAA,+BAkEA,cAAa;WACT,GAAG,CAAC,MAAM,CAAC,QAAX,CAAoB,EAApB,EAAwB;AAAA,eAAS,KAAT;KAAxB,EADS;EAAA,CAlEb;;AAAA,+BAqEA,gBAAe;AACX,WAAO,IAAC,MAAR,CADW;EAAA,CArEf;;4BAAA;;GAF8C,SAFlD;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjHA;AAAA","file":"public/javascripts/app.js","sourcesContent":["Router = require './router'\n\n# The function called from index.html\n# Starts the application\n$ ->\n\n    window.app = {}\n    # Localization management\n    locale = window.locale\n    polyglot = new Polyglot()\n    try\n        locales = require \"locales/#{locale}\"\n    catch e\n        locale = 'en'\n        locales = require 'locales/en'\n\n    polyglot.extend locales\n    window.t = polyglot.t.bind polyglot\n\n    # Initialize routing\n    window.app.router = new Router()\n    Backbone.history.start()\n\n\n    url = window.location.origin\n    pathToSocketIO = \"/#{window.location.pathname.substring(1)}socket.io\"\n\n    window.sio = io url,\n        path: pathToSocketIO\n        reconnectionDelayMax: 60000\n        reconectionDelay: 2000\n        reconnectionAttempts: 3\n","( ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    itemViewOptions: ->\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        if not @collectionEl?\n            collectionEl = el\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = $(@collectionEl)\n        @appendView view.$el for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}, @itemViewOptions(model)\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views","module.exports = {\n  \"leave google title\": \"Import From Google\",\n  \"leave google intro\": \"This tool will import your data from Google inside your Cozy.\",\n  \"leave google step1 title\": \"Sign in to your Google account and authorize your Cozy to access it. You will get a complex string. Copy it in your clipboard.\",\n  \"leave google email label\": \"Your Google email\",\n  \"leave google email placeholder\": \"you@gmail.com\",\n  \"leave google connect label\": \"Sign in to Google\",\n  \"leave google step2 title\": \"Then, copy and paste the code from the popup in this field:\",\n  \"leave google choice title\": \"Choose what you want to do with your data stored on Google servers:\",\n  \"leave google choice photos\": \"One-time import of Google Photos\",\n  \"leave google choice calendar\": \"One-time import of Google Calendar\",\n  \"leave google choice contacts\": \"One-time import of Google Contacts\",\n  \"leave google choice sync gmail\": \"GMail - Access your email from Cozy\",\n  \"invalid token\": \"The token is invalid, please restart the process from the beginning.\",\n  \"leave google import data\": \"import data\",\n  \"import running\": \"Import running...\",\n  \"import complete\": \"Import complete!\",\n  \"import album failure\": \"Import failed for album: \",\n  \"import photo running\": \"Photo import running...\",\n  \"import contact running\": \"Contact import running...\",\n  \"import calendar running\": \"Calendar import running...\",\n  \"import photo complete\": \"Photo import complete!\",\n  \"import contact complete\": \"Contact import complete!\",\n  \"import calendar complete\": \"Calendar import complete!\",\n  \"import amount photos\": \" imported photos on \",\n  \"import amount events\": \" imported events on \",\n  \"import amount contacts\": \" imported contacts on \",\n  \"gmail account synced\": \"Your Gmail account is now linked\",\n  \"import success message\": \"Congratulations, all your Google data were properly imported in your Cozy! Now, you can browse and modify it via the main Cozy applications.\",\n  \"leave google connect another\": \"Sign in to another account\",\n  \"confirm\": \"Confirm\",\n  \"google auth_code\": \"Code provided by Google\",\n  \"back to home\": \"Back to home\"\n}\n;","module.exports = {\n  \"leave google title\": \"Importer depuis Google\",\n  \"leave google intro\": \"Bienvenue dans l’assistant d’import de vos données Google ! Il va vous aider à importer dans votre Cozy toutes vos données stockées chez Google.\",\n  \"leave google step1 title\": \"Première étape : connectez-vous à votre compte Google et autorisez votre Cozy à y accéder. Google va vous fournir une chaine de caractères complexe. Copiez-la dans votre presse-papier :\",\n  \"leave google email label\": \"Votre adresse Gmail\",\n  \"leave google email placeholder\": \"vous@gmail.com\",\n  \"leave google connect label\": \"Connectez votre compte Google\",\n  \"leave google step2 title\": \"Puis, copiez-collez le code affiché dans la fenêtre dans ce champ : \",\n  \"leave google choice title\": \"Félicitations, votre Cozy est connecté à votre compte Google ! Quelles données souhaitez-vous importer ?\",\n  \"leave google choice photos\": \"Vos photos\",\n  \"leave google choice calendar\": \"Vos calendriers\",\n  \"leave google choice contacts\": \"Vos contacts\",\n  \"leave google choice sync gmail\": \"Gmail sync\",\n  \"invalid token\": \"La clé que vous avez saisie est invalide, merci d’essayer de recommencer le processus depuis le début.\",\n  \"leave google import data\": \"importer les données\",\n  \"import running\": \"Import en cours…\",\n  \"import complete\": \"Import terminé !\",\n  \"import album failure\": \"L’import a échoué pour l’album : \",\n  \"import photo running\": \"Import de vos photos en cours…\",\n  \"import contact running\": \"Import de vos contacts en cours…\",\n  \"import calendar running\": \"Import de vos calendriers en cours…\",\n  \"import photo complete\": \"L’import de vos photos est un succès !\",\n  \"import contact complete\": \"Vos contacts sont à présent importés !\",\n  \"import calendar complete\": \"L’import de vos calendriers s’est parfaitement déroulé !\",\n  \"import amount photos\": \" photos importées sur  \",\n  \"import amount events\": \" évènements importés sur \",\n  \"import amount contacts\": \" contacts importés sur \",\n  \"gmail account synced\": \"Votre compte GMail est à présent lié à votre Cozy.\",\n  \"import success message\": \"Félicitations, toutes vos données ont été importées avec succès de Google dans votre Cozy. Vous pouvez à présent les consulter et les modifier via vos applications Cozy. Accédez aux applications depuis la page d’accueil : \",\n  \"leave google connect another\": \"Se connecter à un autre compte\",\n  \"confirm\": \"Confirmer\",\n  \"google auth_code\": \"Code d'autorisation Google\",\n  \"back to home\": \"Retour à l'accueil\"\n}\n;","FormView = require 'views/leave_google_form'\nLogView = require 'views/leave_google_log'\n\n\nmainView = null\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        '': 'main'\n        'status': 'status'\n\n    main: ->\n        mainView?.remove()\n        mainView = new FormView()\n        mainView.render()\n        $('body').empty().append mainView.$el\n\n    status: ->\n        mainView?.remove()\n        mainView = new LogView()\n        mainView.render()\n        $('body').empty().append mainView.$el\n\n\n\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class LeaveGoogleView extends BaseView\n\n    template: require './templates/leave_google_form'\n    tagName: 'main'\n    id: 'leave-google'\n\n    events:\n        'click  a#connect-google': 'connectWithGoogle'\n        'keypress #auth_code': 'onAuthCodeKeypress'\n        'click #step-pastecode-ok': 'onStep2Done'\n        'click #step-pastecode-ko': 'onStep2Cancel'\n        'click #lg-login': 'submitLg'\n\n    changeStep: (step) ->\n        @$('.step').hide()\n        @$(\"#step-#{step}\").show()\n        @$('#auth_code').focus() if step is 'pastecode'\n\n    afterRender: ->\n        @changeStep 'bigbutton'\n\n    connectWithGoogle: (event)->\n        event.preventDefault()\n        opts = [\n            'toolbars=0'\n            'width=700'\n            'height=600'\n            'left=200'\n            'top=200'\n            'scrollbars=1'\n            'resizable=1'\n        ].join(',')\n        @popup = window.open window.oauthUrl, 'Google OAuth',opts\n        @changeStep 'pastecode'\n\n    onStep2Done: (event)->\n        event.preventDefault()\n        @popup?.close()\n        @changeStep 'pickscope'\n\n    onStep2Cancel: (event)->\n        event.preventDefault()\n        @popup?.close()\n        @changeStep 'bigbutton'\n\n    onAuthCodeKeyup: (event) ->\n        @onStep2Done(event) if event.keyCode is 13 #ENTER\n        @onStep2Done(event) if event.keyCode is 27 #ESCAPE\n\n\n    submitLg: (event)->\n        event.preventDefault()\n        auth_code = @$(\"input:text[name=auth_code]\").val()\n        @$(\"input:text[name=auth_code]\").val(\"\")\n\n        scope =\n            photos: @$(\"input:checkbox[name=photos]\").prop(\"checked\")\n            calendars: @$(\"input:checkbox[name=calendars]\").prop(\"checked\")\n            contacts: @$(\"input:checkbox[name=contacts]\").prop(\"checked\")\n            sync_gmail: @$(\"input:checkbox[name=sync_gmail]\").prop(\"checked\")\n\n        $.post \"lg\", {auth_code: auth_code, scope: scope}\n        window.app.router.navigate 'status', true\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class LeaveGoogleLogView extends BaseView\n\n    template: require './templates/leave_google_log'\n    tagName: 'main'\n    id: 'leave-google'\n\n    model:\n        photos:\n            processing: true\n            numberPhotos: 0\n            numberAlbum: 0\n            total: 0\n            error: []\n        contacts:\n            processing: true\n            number:0\n            total: 0\n        events:\n            processing: true\n            number:0\n            total: 0\n        syncedGmail: false\n\n\n    initialize: ->\n        window.sio.on \"photos.album\", (data) =>\n            @model.photos.numberAlbum = data.number\n            @render()\n        window.sio.on \"photos.err\", (data) =>\n            @model.photos.error.push data.url\n            @render()\n        window.sio.on \"photos.photo\", (data) =>\n            @model.photos.numberPhotos = data.number\n            @model.photos.total = data.total\n            @render()\n        window.sio.on \"calendars\", (data) =>\n            @model.events.number = data.number\n            @model.events.total = data.total\n            @render()\n        window.sio.on \"contacts\", (data) =>\n            @model.contacts.number = data.number\n            @model.contacts.total = data.total\n            @render()\n        window.sio.on \"events.end\", =>\n            @model.events.processing = false\n            @render()\n        window.sio.on \"contacts.end\", =>\n            @model.contacts.processing = false\n            @render()\n        window.sio.on \"photos.end\", =>\n            @model.photos.processing = false\n            @render()\n        window.sio.on \"syncGmail.end\", =>\n            @model.syncedGmail = true\n            @render()\n\n        window.sio.on 'invalid token', =>\n            @model.invalidToken = true\n            @render()\n            @model.invalidToken = false\n\n        window.sio.on 'ok', =>\n            @model.events.processing = false\n            @model.contacts.processing = false\n            @model.photos.processing = false\n            @render()\n\n\n    afterRender: ->\n        app.router.navigate '', trigger: false\n\n    getRenderData: ->\n        return @model\n\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"content popup\\\"><header></header><h1>\" + (jade.escape(null == (jade_interp = t('leave google title')) ? \"\" : jade_interp)) + \"</h1><section id=\\\"step-bigbutton\\\" class=\\\"step\\\"><p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t(\"leave google intro\")) ? \"\" : jade_interp)) + \"</p><div class=\\\"content-block\\\"><div class=\\\"step-number\\\">1</div><div class=\\\"text-block\\\">\" + (jade.escape(null == (jade_interp = t(\"leave google step1 title\")) ? \"\" : jade_interp)) + \"</div></div><a id=\\\"connect-google\\\"\" + (jade.attr(\"title\", t(\"leave google connect label\"), true, false)) + \" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t(\"leave google connect label\")) ? \"\" : jade_interp)) + \"</a></section><section id=\\\"step-pastecode\\\" class=\\\"step\\\"><div class=\\\"content-block\\\"><div class=\\\"step-number\\\">2</div><div class=\\\"text-block\\\">\" + (jade.escape(null == (jade_interp = t(\"leave google step2 title\")) ? \"\" : jade_interp)) + \"</div></div><form><label for=\\\"google-code\\\" class=\\\"with-input\\\"><span>\" + (jade.escape(null == (jade_interp = t('google auth_code')) ? \"\" : jade_interp)) + \"</span><input id=\\\"auth_code\\\" type=\\\"text\\\" name=\\\"auth_code\\\" required=\\\"required\\\"/></label><a id=\\\"step-pastecode-ok\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('confirm')) ? \"\" : jade_interp)) + \"</a></form></section><section id=\\\"step-pickscope\\\" class=\\\"step google-services-list\\\"><div class=\\\"content-block\\\"><div class=\\\"step-number\\\">3</div><div class=\\\"text-block\\\">\" + (jade.escape(null == (jade_interp = t('leave google choice title')) ? \"\" : jade_interp)) + \"</div></div><label for=\\\"google-gmail-sync\\\"><input id=\\\"google-gmail-sync\\\" type=\\\"checkbox\\\" name=\\\"sync_gmail\\\" value=\\\"sync_gmail\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons gmail\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice sync gmail\")) ? \"\" : jade_interp)) + \"</span></label><label for=\\\"google-contacts-import\\\"><input id=\\\"google-contacts-import\\\" type=\\\"checkbox\\\" name=\\\"contacts\\\" value=\\\"contacts\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons contacts\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice contacts\")) ? \"\" : jade_interp)) + \"</span></label><label for=\\\"google-calendar-import\\\"><input id=\\\"google-calendar-import\\\" type=\\\"checkbox\\\" name=\\\"calendars\\\" value=\\\"calendars\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons calendar\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice calendar\")) ? \"\" : jade_interp)) + \"</span></label><label for=\\\"google-photos-import\\\"><input id=\\\"google-photos-import\\\" type=\\\"checkbox\\\" name=\\\"photos\\\" value=\\\"photos\\\" checked=\\\"checked\\\"/><span class=\\\"google-services-icons photos\\\"></span><span>\" + (jade.escape(null == (jade_interp = t(\"leave google choice photos\")) ? \"\" : jade_interp)) + \"</span></label><a id=\\\"lg-login\\\" class=\\\"btn btn-primary\\\">\" + (jade.escape(null == (jade_interp = t('leave google import data')) ? \"\" : jade_interp)) + \"</a></section></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),events = locals_.events,contacts = locals_.contacts,photos = locals_.photos,syncedGmail = locals_.syncedGmail,invalidToken = locals_.invalidToken;\nbuf.push(\"<div class=\\\"content popup\\\">\");\nif ( events.processing || contacts.processing || photos.processing)\n{\nbuf.push(\"<header></header><h1 class=\\\"pa2 matop0 biggest darkbg center\\\">\" + (jade.escape(null == (jade_interp = t('import running')) ? \"\" : jade_interp)) + \"</h1>\");\n}\nelse\n{\nbuf.push(\"<header></header><h1 class=\\\"pa2 matop0 biggest darkbg center\\\">\" + (jade.escape(null == (jade_interp = t('import complete')) ? \"\" : jade_interp)) + \"</h1>\");\n}\nbuf.push(\"<div class=\\\"content processing\\\">\");\nif ( syncedGmail)\n{\nbuf.push(\"<div class=\\\"block\\\"><h2><i class=\\\"fa fa-check\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('gmail account synced')) ? \"\" : jade_interp)) + \"</span></h2></div>\");\n}\nif ( photos.numberPhotos)\n{\nbuf.push(\"<div class=\\\"block\\\">\");\nif ( photos.processing)\n{\nbuf.push(\"<h2>\" + (jade.escape(null == (jade_interp = t('import photo running')) ? \"\" : jade_interp)) + \"</h2>\");\n}\nelse\n{\nbuf.push(\"<h2><i class=\\\"fa fa-check\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('import photo complete')) ? \"\" : jade_interp)) + \"</span></h2>\");\n}\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = photos.numberPhotos + t(\"import amount photos\") + photos.total) ? \"\" : jade_interp)) + \"</p>\");\nif ( photos.processing)\n{\nbuf.push(\"<div\" + (jade.attr(\"style\", \"height: 8px; margin-bottom: 1em; border: 1px solid rgba(0,0,0,.12); background: #33A6FF; border-radius: 20px; width: \" + ((photos.numberPhotos/photos.total) * 100) + \"%\", true, false)) + \"></div>\");\n}\n// iterate photos.error\n;(function(){\n  var $$obj = photos.error;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var url = $$obj[$index];\n\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t(\"import album failure\") + url) ? \"\" : jade_interp)) + \"</p>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var url = $$obj[$index];\n\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t(\"import album failure\") + url) ? \"\" : jade_interp)) + \"</p>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</div>\");\n}\nif ( events.number)\n{\nbuf.push(\"<div class=\\\"block\\\">\");\nif ( events.processing)\n{\nbuf.push(\"<h2>\" + (jade.escape(null == (jade_interp = t('import calendar running')) ? \"\" : jade_interp)) + \"</h2>\");\n}\nelse\n{\nbuf.push(\"<h2><i class=\\\"fa fa-check\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('import calendar complete')) ? \"\" : jade_interp)) + \"</span></h2>\");\n}\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = events.number + t(\"import amount events\") + events.total) ? \"\" : jade_interp)) + \"</p>\");\nif ( events.processing)\n{\nbuf.push(\"<div\" + (jade.attr(\"style\", \"height: 8px; margin-bottom: 1em; border: 1px solid rgba(0,0,0,.12); background: #33A6FF; border-radius: 20px; width: \" + ((photos.numberPhotos/photos.total) * 100) + \"%\", true, false)) + \"></div>\");\n}\nbuf.push(\"</div>\");\n}\nif ( contacts.number)\n{\nbuf.push(\"<div class=\\\"block\\\">\");\nif ( contacts.processing)\n{\nbuf.push(\"<h2>\" + (jade.escape(null == (jade_interp = t('import contact running')) ? \"\" : jade_interp)) + \"</h2>\");\n}\nelse\n{\nbuf.push(\"<h2><i class=\\\"fa fa-check\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('import contact complete')) ? \"\" : jade_interp)) + \"</span></h2>\");\n}\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = contacts.number + t(\"import amount contacts\") + contacts.total) ? \"\" : jade_interp)) + \"</p>\");\nif ( contacts.processing)\n{\nbuf.push(\"<div\" + (jade.attr(\"style\", \"height: 8px; margin-bottom: 1em; border: 1px solid rgba(0,0,0,.12); background: #33A6FF; border-radius: 20px; width: \" + ((contacts.number/contacts.total) * 100) + \"%\", true, false)) + \"></div>\");\n}\nbuf.push(\"</div>\");\n}\nif ( invalidToken)\n{\nbuf.push(\"<div class=\\\"error\\\">\" + (jade.escape(null == (jade_interp = t('invalid token')) ? \"\" : jade_interp)) + \"</div><a id=\\\"back-button\\\" href=\\\"/\\\" target=\\\"_top\\\" class=\\\"btn btn-secondary\\\">\" + (jade.escape(null == (jade_interp = t('back to home')) ? \"\" : jade_interp)) + \"</a>\");\n}\nif (!( events.processing || contacts.processing || photos.processing))\n{\nbuf.push(\"<p class=\\\"help\\\">\" + (jade.escape(null == (jade_interp = t('import success message')) ? \"\" : jade_interp)) + \"</p><a id=\\\"back-button\\\" href=\\\"/\\\" target=\\\"_top\\\" class=\\\"btn btn-secondary\\\">\" + (jade.escape(null == (jade_interp = t('back to home')) ? \"\" : jade_interp)) + \"</a>\");\n}\nbuf.push(\"</div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}"]}